<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>手写promise</title>
    </head>

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>手写promise</title>
    </head>

    <body>
        <script src="./promise_v3.js"></script>
        <script>
            const p1 = new MyPromise((resolve, reject) => {
                setTimeout(() => {
                    resolve(1111)
                }, 1000)
            })

            // Promise.prototype.then
            // p1.then(res => console.log(res)).then(res => console.log(res))

            // Promise.prototype.catch
            // p1.catch(e => console.log(e.message))

            // Promise.resolve
            // MyPromise.resolve(444).then(res => console.log(res))

            // Promise.reject
            // MyPromise.reject(new Error('promise.reject')).catch(error => console.log(error.message))

            // Promise.all
            // const pAll = MyPromise.resolve(1)
            // MyPromise.all([pAll, 2, '32'])
            //     .then(res => {
            //         console.log(res)
            //     })
            //     .catch(e => {
            //         console.log(e.message)
            //     })

            // Promise.allSettled
            const pAllSettled = MyPromise.resolve(1)
            const pAllRejected = MyPromise.reject(new Error('error'))

            MyPromise.allSettled([pAllSettled, pAllRejected, 2, '32'])
                .then(res => {
                    console.log(res)
                })
                .catch(e => {
                    console.log(e.message)
                })
        </script>
    </body>
</html>
